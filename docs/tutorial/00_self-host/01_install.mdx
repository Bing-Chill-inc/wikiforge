# Installation

Nous vous proposons de recréer l'expérience proposée sur [Algoforge.fr](https://algoforge.fr) en l'autohébergant de 2 façons:
- soit en virtualisant l'application dans des conteneurs Docker ;
- soit en installant l'application directement sur une machine (version standalone).

---

## Version docker

La version docker de l'application comprend par défaut une base de données PostgreSQL ainsi que l'application PGAdmin pour la gestion de la base de données. Nous vous proposons dans cette section des installateurs automatiques pour Windows et UNIX.

### Programmes requis

- Rendre disponible 2 ports: l'un pour l'application et l'autre pour PGAdmin. (par défaut 5205 et 5300)
- Installer [git](https://git-scm.com/downloads).
- Installer [Docker](https://docker.com).

:::warning
Docker doit être démarré quand vous voulez utiliser l’application.
:::

### Installation Windows

1. Télécharger l'installateur de l'application. Nous vous proposons 2 méthodes pour cela:

- Sans Powershell: `run-docker.bat` [disponible ici](https://github.com/Bing-Chill-inc/Algoforge-main/blob/main/run-docker.bat)
- Avec Powershell: `run-docker.ps1` [disponible ici](https://github.com/Bing-Chill-inc/Algoforge-main/blob/main/run-docker.ps1)

2. Exécuter le programme depuis une invite de commande ou en double-cliquant dessus.

### Installation UNIX

1. Télécharger l'installateur de l'application : `run-docker.sh` [disponible ici](https://github.com/Bing-Chill-inc/Algoforge-main/blob/main/run-docker.sh)
2. Exécuter le programme depuis une invite de commande:

```bash
chmod +x ./run-docker.sh
./run-docker.sh
```

---

## Version standalone

### Programmes requis

- Rendre disponible 1 port pour l'application. (5205 par défaut)
- Installer [git](https://git-scm.com/downloads).
- Installer [Bun](https://bun.sh), testé avec la version 1.2.5.

### Installation automatique (UNIX)

1. Télécharger l'installateur de l'application : `run-local.sh` [disponible ici](https://github.com/Bing-Chill-inc/Algoforge-main/blob/main/run-local.sh)
2. Exécuter le programme depuis une invite de commande:

```bash
chmod +x ./run-local.sh
./run-local.sh
```

### Installation manuelle (Windows/UNIX)

1. Télécharger le programme grâce à la commande git suivante:

```bash
git clone --depth 1 --recurse-submodules https://github.com/Bing-Chill-inc/Algoforge-main.git
```

2. Se placer dans le dossier Algoforge:

```bash
cd Algoforge-main
```

3. Mettre à jour les sous-modules (nécessaire)

```bash
git submodule update --init --recursive
```

4. Renommer le fichier template-local.env en .env:

```bash
mv template-local.env .env
```

5. (optionnel) Modifier le fichier .env pour modifier les informations de connexion à la base de données.

:::warning
Si on veut utiliser cette version standalone en local, il faut laisser la configuration sqlite.
:::

6. Se placer dans le dossier back-end:

```bash
cd src/back
```

7. Lancer l’application avec la commande suivante:

```bash
bun run prod
```

_(Cette dernière va directement télécharger et installer les dépendances nécessaires)_

L'application est en train de se démarrer en arrière plan ! Ouvrez un navigateur et entrez l'adresse: [http://localhost:5205](http://localhost:5205) (par défaut)
